# çŸ¥è¯†å›¾è°±å¤‡ä»½å’Œè¿ç§»æ–¹æ¡ˆ

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•å¤‡ä»½ã€è¿ç§»å’Œæ¢å¤Memoryå·¥å…·çš„çŸ¥è¯†å›¾è°±æ•°æ®ï¼Œç¡®ä¿é¡¹ç›®çŸ¥è¯†çš„å®‰å…¨æ€§å’Œè¿ç»­æ€§ã€‚

## ğŸ¯ ç›®æ ‡

- å»ºç«‹çŸ¥è¯†å›¾è°±çš„å¤‡ä»½æœºåˆ¶
- å®ç°è·¨è®¾å¤‡çš„æ•°æ®è¿ç§»
- ç¡®ä¿é¡¹ç›®çŸ¥è¯†çš„æŒä¹…åŒ–å­˜å‚¨
- æä¾›æ•°æ®æ¢å¤å’ŒåŒæ­¥æ–¹æ¡ˆ

## ğŸ“Š å½“å‰çŸ¥è¯†å›¾è°±çŠ¶æ€

### å®ä½“ç»Ÿè®¡
- **æ€»å®ä½“æ•°**: 6ä¸ª
- **å®ä½“ç±»å‹**: å›¢é˜Ÿã€é¡¹ç›®ã€AIåŠ©æ‰‹ã€å¼€å‘é¡¹ç›®ã€æŠ€æœ¯é—®é¢˜
- **å…³ç³»æ•°é‡**: 5ä¸ª
- **æœ€åæ›´æ–°**: 2025å¹´09æœˆ28æ—¥

### æ•°æ®å®Œæ•´æ€§
- âœ… å®ä½“ä¿¡æ¯å®Œæ•´
- âœ… å…³ç³»æ˜ å°„æ­£ç¡®
- âœ… è§‚å¯Ÿè®°å½•è¯¦ç»†
- âœ… ç±»å‹åˆ†ç±»æ¸…æ™°

## ğŸ”„ å¤‡ä»½ç­–ç•¥

### æ–¹æ¡ˆ1: å®Œæ•´å›¾è°±å¯¼å‡º (æ¨è)

#### 1.1 å¯¼å‡ºå‘½ä»¤
```bash
# ä½¿ç”¨MCPå·¥å…·å¯¼å‡ºå®Œæ•´å›¾è°±
echo '{"jsonrpc": "2.0", "id": 1, "method": "tools/call", "params": {"name": "read_graph", "arguments": {}}}' | npx -y @modelcontextprotocol/server-memory > knowledge_graph_backup.json
```

#### 1.2 å¤‡ä»½æ–‡ä»¶æ ¼å¼
```json
{
  "entities": [
    {
      "type": "entity",
      "name": "å®ä½“åç§°",
      "entityType": "å®ä½“ç±»å‹",
      "observations": ["è§‚å¯Ÿ1", "è§‚å¯Ÿ2"]
    }
  ],
  "relations": [
    {
      "type": "relation",
      "from": "æºå®ä½“",
      "to": "ç›®æ ‡å®ä½“",
      "relationType": "å…³ç³»ç±»å‹"
    }
  ],
  "metadata": {
    "exportDate": "2025-09-28",
    "version": "v2.1.0",
    "totalEntities": 6,
    "totalRelations": 5
  }
}
```

### æ–¹æ¡ˆ2: å¢é‡å¤‡ä»½

#### 2.1 å®šæœŸå¤‡ä»½è„šæœ¬
```bash
#!/bin/bash
# backup_memory.sh

DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="./memory_backups"
BACKUP_FILE="$BACKUP_DIR/knowledge_graph_$DATE.json"

mkdir -p $BACKUP_DIR

echo "å¼€å§‹å¤‡ä»½çŸ¥è¯†å›¾è°±..."
echo '{"jsonrpc": "2.0", "id": 1, "method": "tools/call", "params": {"name": "read_graph", "arguments": {}}}' | npx -y @modelcontextprotocol/server-memory > $BACKUP_FILE

echo "å¤‡ä»½å®Œæˆ: $BACKUP_FILE"
echo "æ–‡ä»¶å¤§å°: $(du -h $BACKUP_FILE | cut -f1)"
```

#### 2.2 è‡ªåŠ¨å¤‡ä»½è®¡åˆ’
```bash
# æ·»åŠ åˆ°crontab (æ¯å¤©å¤‡ä»½ä¸€æ¬¡)
0 2 * * * /path/to/backup_memory.sh
```

## ğŸš€ è¿ç§»æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: ç›´æ¥é‡å»º (ç®€å•)

#### 1.1 æ–°è®¾å¤‡é…ç½®
1. å®‰è£…Memoryå·¥å…·
2. é…ç½®Cursor MCP
3. ä½¿ç”¨é…ç½®æŒ‡å—é‡å»ºçŸ¥è¯†å›¾è°±

#### 1.2 é‡å»ºè„šæœ¬
```bash
#!/bin/bash
# rebuild_memory.sh

echo "å¼€å§‹é‡å»ºçŸ¥è¯†å›¾è°±..."

# åˆ›å»ºæ ¸å¿ƒå®ä½“
echo "åˆ›å»ºå®ä½“..."
echo '{"jsonrpc": "2.0", "id": 1, "method": "tools/call", "params": {"name": "create_entities", "arguments": {"entities": [{"name": "æ¼è›‹è®¡åˆ†å¼€å‘å›¢é˜Ÿ", "entityType": "å›¢é˜Ÿ", "observations": ["è´Ÿè´£æ¼è›‹å°ç¨‹åºå¼€å‘", "ä½¿ç”¨Cursor IDE", "é…ç½®MCPå·¥å…·"]}]}}}' | npx -y @modelcontextprotocol/server-memory

# åˆ›å»ºå…³ç³»
echo "åˆ›å»ºå…³ç³»..."
echo '{"jsonrpc": "2.0", "id": 2, "method": "tools/call", "params": {"name": "create_relations", "arguments": {"relations": [{"from": "æ¼è›‹è®¡åˆ†å¼€å‘å›¢é˜Ÿ", "to": "æ¼è›‹å°ç¨‹åº", "relationType": "å¼€å‘"}]}}}' | npx -y @modelcontextprotocol/server-memory

echo "é‡å»ºå®Œæˆï¼"
```

### æ–¹æ¡ˆ2: æ•°æ®å¯¼å…¥ (é«˜çº§)

#### 2.1 å¯¼å…¥è„šæœ¬
```bash
#!/bin/bash
# import_memory.sh

BACKUP_FILE=$1

if [ -z "$BACKUP_FILE" ]; then
    echo "ç”¨æ³•: $0 <backup_file.json>"
    exit 1
fi

echo "å¼€å§‹å¯¼å…¥çŸ¥è¯†å›¾è°±: $BACKUP_FILE"

# è§£æå¤‡ä»½æ–‡ä»¶å¹¶é‡å»º
python3 -c "
import json
import subprocess
import sys

def call_memory_tool(method, params):
    cmd = f'echo \'{{\"jsonrpc\": \"2.0\", \"id\": 1, \"method\": \"tools/call\", \"params\": {{\"name\": \"{method}\", \"arguments\": {json.dumps(params)}}}}}\' | npx -y @modelcontextprotocol/server-memory'
    result = subprocess.run(cmd, shell=True, capture_output=True, text=True)
    return result.stdout

# è¯»å–å¤‡ä»½æ–‡ä»¶
with open('$BACKUP_FILE', 'r') as f:
    data = json.load(f)

# é‡å»ºå®ä½“
if 'entities' in data:
    entities = []
    for entity in data['entities']:
        entities.append({
            'name': entity['name'],
            'entityType': entity['entityType'],
            'observations': entity['observations']
        })
    
    call_memory_tool('create_entities', {'entities': entities})
    print(f'å·²å¯¼å…¥ {len(entities)} ä¸ªå®ä½“')

# é‡å»ºå…³ç³»
if 'relations' in data:
    relations = []
    for relation in data['relations']:
        relations.append({
            'from': relation['from'],
            'to': relation['to'],
            'relationType': relation['relationType']
        })
    
    call_memory_tool('create_relations', {'relations': relations})
    print(f'å·²å¯¼å…¥ {len(relations)} ä¸ªå…³ç³»')

print('å¯¼å…¥å®Œæˆï¼')
"
```

## ğŸ” éªŒè¯å’Œæµ‹è¯•

### éªŒè¯è„šæœ¬
```bash
#!/bin/bash
# verify_memory.sh

echo "éªŒè¯çŸ¥è¯†å›¾è°±å®Œæ•´æ€§..."

# æ£€æŸ¥å®ä½“æ•°é‡
echo "æ£€æŸ¥å®ä½“æ•°é‡..."
ENTITY_COUNT=$(echo '{"jsonrpc": "2.0", "id": 1, "method": "tools/call", "params": {"name": "read_graph", "arguments": {}}}' | npx -y @modelcontextprotocol/server-memory | jq '.result.content[0].text' | jq '.entities | length')

echo "å®ä½“æ•°é‡: $ENTITY_COUNT"

# æ£€æŸ¥å…³ç³»æ•°é‡
RELATION_COUNT=$(echo '{"jsonrpc": "2.0", "id": 1, "method": "tools/call", "params": {"name": "read_graph", "arguments": {}}}' | npx -y @modelcontextprotocol/server-memory | jq '.result.content[0].text' | jq '.relations | length')

echo "å…³ç³»æ•°é‡: $RELATION_COUNT"

# æœç´¢æµ‹è¯•
echo "æœç´¢æµ‹è¯•..."
SEARCH_RESULT=$(echo '{"jsonrpc": "2.0", "id": 1, "method": "tools/call", "params": {"name": "search_nodes", "arguments": {"query": "æ¼è›‹"}}}' | npx -y @modelcontextprotocol/server-memory)

echo "æœç´¢ç»“æœ: $SEARCH_RESULT"

echo "éªŒè¯å®Œæˆï¼"
```

## ğŸ“ æ–‡ä»¶ç®¡ç†

### å¤‡ä»½æ–‡ä»¶å‘½åè§„èŒƒ
```
knowledge_graph_YYYYMMDD_HHMMSS.json
```

### ç›®å½•ç»“æ„
```
project-plan/
â”œâ”€â”€ Memoryå·¥å…·é…ç½®æŒ‡å—.md
â”œâ”€â”€ çŸ¥è¯†å›¾è°±å¤‡ä»½å’Œè¿ç§»æ–¹æ¡ˆ.md
â””â”€â”€ memory_backups/
    â”œâ”€â”€ knowledge_graph_20250928_143000.json
    â”œâ”€â”€ knowledge_graph_20250928_150000.json
    â””â”€â”€ knowledge_graph_20250928_160000.json
```

### ç‰ˆæœ¬æ§åˆ¶
- å°†å¤‡ä»½æ–‡ä»¶åŠ å…¥Gitç‰ˆæœ¬æ§åˆ¶
- å®šæœŸæäº¤å¤‡ä»½æ›´æ–°
- æ ‡è®°é‡è¦ç‰ˆæœ¬èŠ‚ç‚¹

## ğŸš¨ æ•…éšœæ¢å¤

### æ•°æ®ä¸¢å¤±æ¢å¤
1. **è¯†åˆ«é—®é¢˜**: æ£€æŸ¥Memoryå·¥å…·çŠ¶æ€
2. **é€‰æ‹©å¤‡ä»½**: é€‰æ‹©æœ€è¿‘çš„å®Œæ•´å¤‡ä»½
3. **æ¢å¤æ•°æ®**: ä½¿ç”¨å¯¼å…¥è„šæœ¬æ¢å¤
4. **éªŒè¯å®Œæ•´æ€§**: è¿è¡ŒéªŒè¯è„šæœ¬
5. **æ›´æ–°é…ç½®**: ç¡®ä¿é…ç½®æ­£ç¡®

### éƒ¨åˆ†æ•°æ®æŸå
1. **å¯¼å‡ºå½“å‰æ•°æ®**: è·å–æŸååçš„çŠ¶æ€
2. **å¯¹æ¯”å¤‡ä»½**: è¯†åˆ«ç¼ºå¤±çš„æ•°æ®
3. **å¢é‡æ¢å¤**: åªæ¢å¤ç¼ºå¤±éƒ¨åˆ†
4. **éªŒè¯ä¿®å¤**: ç¡®è®¤æ•°æ®å®Œæ•´æ€§

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### å®šæœŸæ£€æŸ¥
- **æ¯å‘¨**: æ£€æŸ¥å¤‡ä»½æ–‡ä»¶å®Œæ•´æ€§
- **æ¯æœˆ**: éªŒè¯çŸ¥è¯†å›¾è°±æ•°æ®ä¸€è‡´æ€§
- **æ¯å­£åº¦**: æ›´æ–°å¤‡ä»½ç­–ç•¥å’Œè„šæœ¬

### æ€§èƒ½ç›‘æ§
- **å­˜å‚¨ç©ºé—´**: ç›‘æ§å¤‡ä»½æ–‡ä»¶å¤§å°
- **å“åº”æ—¶é—´**: æ£€æŸ¥Memoryå·¥å…·æ€§èƒ½
- **é”™è¯¯æ—¥å¿—**: åˆ†æMCPè¿æ¥é—®é¢˜

## ğŸ”§ å·¥å…·å’Œè„šæœ¬

### å¿…éœ€å·¥å…·
- **Node.js**: Memoryå·¥å…·è¿è¡Œç¯å¢ƒ
- **jq**: JSONæ•°æ®å¤„ç†
- **curl**: HTTPè¯·æ±‚å·¥å…·
- **Python3**: é«˜çº§æ•°æ®å¤„ç†è„šæœ¬

### å¯é€‰å·¥å…·
- **Git**: ç‰ˆæœ¬æ§åˆ¶
- **Cron**: å®šæ—¶ä»»åŠ¡
- **Docker**: å®¹å™¨åŒ–éƒ¨ç½²

## ğŸ“ æœ€ä½³å®è·µ

### å¤‡ä»½ç­–ç•¥
1. **3-2-1è§„åˆ™**: 3ä»½å¤‡ä»½ï¼Œ2ç§ä»‹è´¨ï¼Œ1ä»½å¼‚åœ°
2. **å®šæœŸæµ‹è¯•**: å®šæœŸéªŒè¯å¤‡ä»½å¯æ¢å¤æ€§
3. **ç‰ˆæœ¬æ ‡è®°**: é‡è¦èŠ‚ç‚¹åˆ›å»ºæ ‡è®°å¤‡ä»½

### è¿ç§»ç­–ç•¥
1. **åˆ†æ­¥è¿ç§»**: å…ˆè¿ç§»æ ¸å¿ƒæ•°æ®ï¼Œå†è¿ç§»æ‰©å±•æ•°æ®
2. **éªŒè¯ä¼˜å…ˆ**: æ¯æ­¥éƒ½è¿›è¡ŒéªŒè¯
3. **å›æ»šå‡†å¤‡**: å‡†å¤‡å›æ»šæ–¹æ¡ˆ

### ç»´æŠ¤ç­–ç•¥
1. **è‡ªåŠ¨åŒ–**: å°½å¯èƒ½è‡ªåŠ¨åŒ–å¤‡ä»½å’ŒéªŒè¯
2. **æ–‡æ¡£åŒ–**: è®°å½•æ‰€æœ‰æ“ä½œå’Œé…ç½®
3. **ç›‘æ§åŒ–**: å»ºç«‹ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### é—®é¢˜æ’æŸ¥
1. **æ£€æŸ¥æ—¥å¿—**: æŸ¥çœ‹Cursorå’ŒMCPæ—¥å¿—
2. **éªŒè¯é…ç½®**: ç¡®è®¤é…ç½®æ–‡ä»¶æ­£ç¡®
3. **æµ‹è¯•è¿æ¥**: éªŒè¯MCPæœåŠ¡å™¨çŠ¶æ€

### è”ç³»æ”¯æŒ
- **Maius AIåŠ©æ‰‹**: æä¾›æŠ€æœ¯æ”¯æŒå’Œé—®é¢˜è¯Šæ–­
- **é¡¹ç›®æ–‡æ¡£**: å‚è€ƒé…ç½®æŒ‡å—å’Œæ•…éšœæ’é™¤
- **ç¤¾åŒºæ”¯æŒ**: MCPå®˜æ–¹ç¤¾åŒºå’Œæ–‡æ¡£

---

**æœ€åæ›´æ–°**: 2025å¹´09æœˆ28æ—¥  
**è´Ÿè´£äºº**: æ¼è›‹è®¡åˆ†å¼€å‘å›¢é˜Ÿ  
**ç‰ˆæœ¬**: v2.1.0  
**çŠ¶æ€**: ç”Ÿäº§å°±ç»ª



