# 版本管理快速指南

## 🚀 常用命令

### 查看当前版本
```bash
npm run version:current
```

### 创建新版本
```bash
# 创建稳定版本
npm run version:create:stable

# 创建测试版本  
npm run version:create:beta

# 创建开发版本
npm run version:create:dev
```

### 版本回滚
```bash
# 回滚到稳定版本
npm run rollback:stable

# 回滚到指定版本
npm run version:rollback v1.0.0-stable
```

### 查看所有版本
```bash
npm run version:list
```

### 创建备份
```bash
npm run backup:create
```

## 📋 版本操作流程

### 1. 开发新功能前
```bash
# 1. 创建备份
npm run backup:create

# 2. 查看当前版本
npm run version:current
```

### 2. 功能开发完成后
```bash
# 1. 创建新版本
npm run version:create:dev

# 2. 测试通过后创建稳定版本
npm run version:create:stable
```

### 3. 出现问题需要回滚
```bash
# 快速回滚到稳定版本
npm run rollback:stable

# 或者回滚到指定版本
npm run version:rollback v1.0.0-stable
```

## ⚠️ 注意事项

1. **回滚前务必备份**：系统会自动创建备份，但建议手动创建
2. **版本命名规范**：遵循 v主版本.次版本.修订号-状态 格式
3. **测试验证**：版本切换后务必测试核心功能
4. **文档更新**：重要版本变更后更新相关文档

## 🔧 故障排除

### 版本不存在
```bash
# 查看所有可用版本
npm run version:list

# 检查版本目录
ls versions/
```

### 回滚失败
```bash
# 检查版本完整性
npm run health:check

# 手动恢复
node 项目实施方案/version-manager.js rollback v1.0.0-stable
```

### 版本信息错误
```bash
# 重新创建版本信息
node 项目实施方案/version-manager.js create v1.0.0-stable "基础核心功能版"
```
