# æ¼è›‹è®¡åˆ†å°ç¨‹åº - é¡µé¢ç»“æ„è§„åˆ’

## ğŸ“± é¡µé¢å±‚çº§ç»“æ„

### å½“å‰é¡µé¢ç»“æ„
```
pages/
â”œâ”€â”€ index/              # ä¸»é¡µï¼ˆå•æœºç‰ˆï¼‰
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ index.wxml
â”‚   â”œâ”€â”€ index.wxss
â”‚   â””â”€â”€ index.json
â”œâ”€â”€ history/            # å†å²è®°å½•
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ index.wxml
â”‚   â”œâ”€â”€ index.wxss
â”‚   â””â”€â”€ index.json
â””â”€â”€ team-setting/       # é˜Ÿä¼è®¾ç½®
    â”œâ”€â”€ index.js
    â”œâ”€â”€ index.wxml
    â”œâ”€â”€ index.wxss
    â””â”€â”€ index.json
```

### æ–°å¢é¡µé¢ç»“æ„
```
pages/
â”œâ”€â”€ index/              # ä¸»é¡µï¼ˆå•æœºç‰ˆï¼‰
â”œâ”€â”€ history/            # å†å²è®°å½•
â”œâ”€â”€ team-setting/       # é˜Ÿä¼è®¾ç½®
â”œâ”€â”€ room-create/        # æˆ¿é—´åˆ›å»º â­ æ–°å¢
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ index.wxml
â”‚   â”œâ”€â”€ index.wxss
â”‚   â””â”€â”€ index.json
â”œâ”€â”€ room-join/          # æˆ¿é—´åŠ å…¥ â­ æ–°å¢
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ index.wxml
â”‚   â”œâ”€â”€ index.wxss
â”‚   â””â”€â”€ index.json
â”œâ”€â”€ game-multi/         # å¤šäººæ¸¸æˆ â­ æ–°å¢
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ index.wxml
â”‚   â”œâ”€â”€ index.wxss
â”‚   â””â”€â”€ index.json
â””â”€â”€ profile/            # ä¸ªäººä¸­å¿ƒ â­ æ–°å¢
    â”œâ”€â”€ index.js
    â”œâ”€â”€ index.wxml
    â”œâ”€â”€ index.wxss
    â””â”€â”€ index.json
```

## ğŸ—ºï¸ é¡µé¢å¯¼èˆªæµç¨‹

### å•æœºç‰ˆæµç¨‹
```
ä¸»é¡µ(index) â†’ å†å²è®°å½•(history)
    â†“
é˜Ÿä¼è®¾ç½®(team-setting)
```

### å¤šäººç‰ˆæµç¨‹
```
ä¸»é¡µ(index) â†’ æˆ¿é—´åˆ›å»º(room-create) â†’ å¤šäººæ¸¸æˆ(game-multi)
    â†“              â†“
å†å²è®°å½•(history)   æˆ¿é—´åŠ å…¥(room-join)
    â†“              â†“
é˜Ÿä¼è®¾ç½®(team-setting) â†’ ä¸ªäººä¸­å¿ƒ(profile)
```

## ğŸ“„ é¡µé¢è¯¦ç»†è§„åˆ’

### 1. ä¸»é¡µ (index) - å‡çº§ç‰ˆ

#### åŠŸèƒ½å®šä½
- **å•æœºæ¨¡å¼**ï¼šä¿æŒç°æœ‰åŠŸèƒ½
- **å¤šäººå…¥å£**ï¼šæ·»åŠ å¤šäººæ¨¡å¼å…¥å£
- **æ¨¡å¼é€‰æ‹©**ï¼šç”¨æˆ·å¯é€‰æ‹©å•æœºæˆ–å¤šäºº

#### ä¸»è¦ä¿®æ”¹
```xml
<!-- åœ¨å³ä¾§æ§åˆ¶é¢æ¿æ·»åŠ å¤šäººæ¨¡å¼æŒ‰é’® -->
<view class="right-control-panel">
  <!-- ç°æœ‰æŒ‰é’® -->
  <button class="start-btn" bindtap="onStartGame">å¼€å§‹æ¸¸æˆ</button>
  
  <!-- æ–°å¢æŒ‰é’® -->
  <button class="multi-btn" bindtap="onCreateRoom">åˆ›å»ºæˆ¿é—´</button>
  <button class="join-btn" bindtap="onJoinRoom">åŠ å…¥æˆ¿é—´</button>
  
  <!-- å…¶ä»–ç°æœ‰åŠŸèƒ½ -->
</view>
```

#### æ–°å¢åŠŸèƒ½
- åˆ›å»ºæˆ¿é—´æŒ‰é’®
- åŠ å…¥æˆ¿é—´æŒ‰é’®
- æ¨¡å¼åˆ‡æ¢æç¤º

### 2. æˆ¿é—´åˆ›å»ºé¡µé¢ (room-create)

#### é¡µé¢åŠŸèƒ½
- ç”Ÿæˆæˆ¿é—´å·å’ŒäºŒç»´ç 
- æ˜¾ç¤ºç©å®¶åº§ä½
- æˆ¿é—´è®¾ç½®å’Œå¼€å§‹æ¸¸æˆ

#### é¡µé¢ç»“æ„
```xml
<view class="room-create-page">
  <!-- å¤´éƒ¨ -->
  <view class="page-header">
    <view class="brand-logo">
      <image src="/images/GD.png" />
      <text>æ¼è›‹è®¡åˆ†</text>
    </view>
    <button class="back-btn" bindtap="onBack">è¿”å›</button>
  </view>
  
  <!-- æˆ¿é—´ä¿¡æ¯ -->
  <view class="room-info-card">
    <view class="room-number">{{roomId}}</view>
    <view class="qr-code">
      <image src="{{qrCodeUrl}}" />
    </view>
    <text class="invite-text">æ‰«ç é‚€è¯·å¥½å‹åŠ å…¥</text>
  </view>
  
  <!-- ç©å®¶åº§ä½ -->
  <view class="players-area">
    <PlayerSeat wx:for="{{seats}}" wx:key="index" 
      seatIndex="{{index}}"
      player="{{item.player}}"
      isHost="{{item.isHost}}"
      bindreplace="onReplacePlayer"
    />
  </view>
  
  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="start-btn" bindtap="onStartGame">å¼€å§‹æ¸¸æˆ</button>
    <button class="settings-btn" bindtap="onSettings">æˆ¿é—´è®¾ç½®</button>
    <button class="leave-btn" bindtap="onLeaveRoom">ç¦»å¼€æˆ¿é—´</button>
  </view>
</view>
```

#### æ•°æ®æ¨¡å‹
```javascript
data: {
  roomId: '',
  qrCodeUrl: '',
  seats: [
    { player: null, isHost: false },
    { player: null, isHost: false },
    { player: null, isHost: false },
    { player: null, isHost: false }
  ],
  gameMode: 'by-A',
  maxRounds: 10,
  roomStatus: 'waiting' // waiting, playing, finished
}
```

### 3. æˆ¿é—´åŠ å…¥é¡µé¢ (room-join)

#### é¡µé¢åŠŸèƒ½
- æ‰«ç åŠ å…¥æˆ¿é—´
- æ‰‹åŠ¨è¾“å…¥æˆ¿é—´å·
- æ˜¾ç¤ºåŠ å…¥çŠ¶æ€

#### é¡µé¢ç»“æ„
```xml
<view class="room-join-page">
  <!-- å¤´éƒ¨ -->
  <view class="page-header">
    <view class="brand-logo">
      <image src="/images/GD.png" />
      <text>æ¼è›‹è®¡åˆ†</text>
    </view>
    <button class="back-btn" bindtap="onBack">è¿”å›</button>
  </view>
  
  <!-- æ‰«ç åŒºåŸŸ -->
  <view class="scan-area">
    <camera class="camera" bindscancode="onScanCode" />
    <view class="scan-tip">æ‰«ææˆ¿é—´äºŒç»´ç </view>
  </view>
  
  <!-- æ‰‹åŠ¨è¾“å…¥ -->
  <view class="manual-input">
    <view class="input-label">æˆ–æ‰‹åŠ¨è¾“å…¥æˆ¿é—´å·</view>
    <input class="room-input" 
      placeholder="è¯·è¾“å…¥6ä½æˆ¿é—´å·"
      value="{{roomId}}"
      bindinput="onRoomIdInput"
    />
    <button class="join-btn" bindtap="onJoinRoom">åŠ å…¥æˆ¿é—´</button>
  </view>
  
  <!-- çŠ¶æ€æç¤º -->
  <view class="status-tip" wx:if="{{statusMessage}}">
    {{statusMessage}}
  </view>
</view>
```

### 4. å¤šäººæ¸¸æˆé¡µé¢ (game-multi)

#### é¡µé¢åŠŸèƒ½
- åŸºäºç°æœ‰å•æœºç‰ˆç•Œé¢
- å¢åŠ å¤šäººåä½œåŠŸèƒ½
- å®æ—¶åŒæ­¥åˆ†æ•°

#### ä¸»è¦ä¿®æ”¹
```xml
<!-- åœ¨ç°æœ‰åŸºç¡€ä¸Šæ·»åŠ å¤šäººåŠŸèƒ½ -->
<view class="container cn-paper-bg">
  <!-- ç°æœ‰å“ç‰Œæ ‡è¯† -->
  <view class="brand-section">
    <!-- æ·»åŠ æˆ¿é—´ä¿¡æ¯æ˜¾ç¤º -->
    <view class="room-info">
      <text class="room-id">æˆ¿é—´: {{roomId}}</text>
      <text class="player-count">{{playerCount}}/4äºº</text>
    </view>
  </view>
  
  <!-- ç°æœ‰å¸ƒå±€ä¿æŒä¸å˜ -->
  <view class="main-layout">
    <!-- çº¢æ–¹å’Œè“æ–¹å¸ƒå±€ -->
  </view>
  
  <!-- ç°æœ‰å†å²è¡¨æ ¼ -->
  <view class="history-table-section">
    <!-- å†å²æ¯”åˆ†è¡¨æ ¼ -->
  </view>
  
  <!-- ç°æœ‰æ§åˆ¶é¢æ¿ -->
  <view class="right-control-panel">
    <!-- ç°æœ‰æŒ‰é’® + å¤šäººåŠŸèƒ½æŒ‰é’® -->
  </view>
</view>
```

### 5. ä¸ªäººä¸­å¿ƒé¡µé¢ (profile)

#### é¡µé¢åŠŸèƒ½
- ç”¨æˆ·ä¿¡æ¯å±•ç¤º
- æˆ˜ç»©ç»Ÿè®¡
- è®¾ç½®ç®¡ç†

#### é¡µé¢ç»“æ„
```xml
<view class="profile-page">
  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="user-info-card">
    <image class="avatar" src="{{userInfo.avatar}}" />
    <view class="user-details">
      <text class="nickname">{{userInfo.nickname}}</text>
      <text class="join-date">åŠ å…¥æ—¶é—´: {{userInfo.joinDate}}</text>
    </view>
  </view>
  
  <!-- æˆ˜ç»©ç»Ÿè®¡ -->
  <view class="stats-section">
    <view class="stats-title">æˆ˜ç»©ç»Ÿè®¡</view>
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-number">{{stats.totalGames}}</text>
        <text class="stat-label">æ€»åœºæ¬¡</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{stats.wins}}</text>
        <text class="stat-label">èƒœåœº</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{stats.winRate}}%</text>
        <text class="stat-label">èƒœç‡</text>
      </view>
    </view>
  </view>
  
  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="menu-item" bindtap="onShowHistory">
      <text class="menu-icon">ğŸ“Š</text>
      <text class="menu-text">å†å²è®°å½•</text>
    </view>
    <view class="menu-item" bindtap="onShowSettings">
      <text class="menu-icon">âš™ï¸</text>
      <text class="menu-text">è®¾ç½®</text>
    </view>
    <view class="menu-item" bindtap="onShowFeedback">
      <text class="menu-icon">ğŸ’¬</text>
      <text class="menu-text">åé¦ˆ</text>
    </view>
  </view>
</view>
```

## ğŸ”„ é¡µé¢é—´æ•°æ®ä¼ é€’

### è·¯ç”±å‚æ•°
```javascript
// é¡µé¢è·³è½¬ç¤ºä¾‹
wx.navigateTo({
  url: `/pages/room-create/index?mode=${gameMode}&rounds=${maxRounds}`
});

wx.navigateTo({
  url: `/pages/room-join/index?roomId=${roomId}`
});

wx.navigateTo({
  url: `/pages/game-multi/index?roomId=${roomId}&playerId=${playerId}`
});
```

### å…¨å±€æ•°æ®ç®¡ç†
```javascript
// app.js å…¨å±€æ•°æ®
globalData: {
  userInfo: null,
  currentRoom: null,
  gameState: null,
  settings: {
    soundEnabled: true,
    autoSave: true
  }
}
```

### é¡µé¢æ•°æ®åŒæ­¥
```javascript
// ä½¿ç”¨äº‹ä»¶æ€»çº¿è¿›è¡Œé¡µé¢é—´é€šä¿¡
const eventBus = {
  emit: function(event, data) {
    // å‘é€äº‹ä»¶
  },
  on: function(event, callback) {
    // ç›‘å¬äº‹ä»¶
  }
};
```

## ğŸ“± å“åº”å¼é€‚é…

### æ¨ªå±æ¨¡å¼ï¼ˆä¸»è¦ï¼‰
```css
@media screen and (orientation: landscape) {
  .room-create-page {
    flex-direction: row;
  }
  
  .players-area {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
  }
}
```

### ç«–å±æ¨¡å¼ï¼ˆå…¼å®¹ï¼‰
```css
@media screen and (orientation: portrait) {
  .room-create-page {
    flex-direction: column;
  }
  
  .players-area {
    display: flex;
    flex-direction: column;
  }
}
```

## ğŸ§ª æµ‹è¯•é¡µé¢

### å¼€å‘æµ‹è¯•é¡µé¢
```
pages/
â”œâ”€â”€ test/              # æµ‹è¯•é¡µé¢
â”‚   â”œâ”€â”€ components/    # ç»„ä»¶æµ‹è¯•
â”‚   â”œâ”€â”€ pages/         # é¡µé¢æµ‹è¯•
â”‚   â””â”€â”€ api/           # APIæµ‹è¯•
```

### æµ‹è¯•ç”¨ä¾‹
- é¡µé¢è·³è½¬æµ‹è¯•
- æ•°æ®ä¼ é€’æµ‹è¯•
- ç»„ä»¶æ¸²æŸ“æµ‹è¯•
- äº¤äº’åŠŸèƒ½æµ‹è¯•

---

**é¡µé¢è§„åˆ’ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-09-28  
**ç»´æŠ¤è€…**: Maius (å‰ç«¯å¼€å‘åŠ©æ‰‹)


