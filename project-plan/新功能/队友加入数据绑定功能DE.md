好的，您说得非常对！针对**纯计分小程序**的定位，我们需要简化设计，移除“旁观者”等游戏性功能，并强化“个人中心”模块。

以下是修订后的V2.0需求文档，更贴合您的实际需求。

---

### **掼蛋计分小程序V2.0需求文档（修订版）**

**版本：** 1.1
**日期：** 2023-10-27
**修订说明：** 明确小程序为“计分工具”定位，移除“旁观者”模式，强化“个人中心”功能。
**核心原则：** 灵活、快捷、记录、分享。

---

### 1. 项目概述

当前小程序已实现基础计分。V2.0版本旨在成为掼蛋玩家最便捷、最专业的计分与战绩管理工具。通过灵活的组局、完整的个人战绩体系和激励性分享，提升用户粘性。

---

### 2. 功能需求详述（修订与细化）

#### 3.1 灵活的开局与加入方式（核心功能）

**目标：** 覆盖线下牌局所有计分场景，操作极简。

| 功能点 | 描述 | 前端交互与逻辑 |
| :--- | :--- | :--- |
| **3.1.1 创建计分房间** | 房主点击首页“开始新比赛”进入房间准备页。 | 1. 页面顶部显示**房间号**（如：`123456`）和**大型二维码**。<br>2. 页面中部为4个玩家座位，房主自动占据1号位。<br>3. 核心按钮：**“直接开始计分”**（房主专用）。 |
| **3.1.2 扫码加入** | 其他牌友扫码加入计分。 | 1. 玩家扫码后，自动加入房间并分配一个空座位。<br>2. 系统赋予默认昵称（`玩家2`，`玩家3`等），**玩家可点击昵称实时修改**（如改为“老王”）。<br>3. **关键：** 加入与否完全自由，不影响房主开局。 |
| **3.1.3 一人创建直接开局** | 房主一人即可开始记录分数，最常用。 | 房主点击 **“直接开始计分”** ，系统自动为剩余空位创建**默认玩家**（`玩家A`，`玩家B`等）。比赛正式开始，进入计分页面。 |
| **3.1.4 手动开局（免扫码）** | 四人已就位，只需一人操作手机。 | 房主可**直接点击空座位**，输入玩家昵称（如“东哥”、“南哥”），完成后点击“直接开始计分”。所有玩家均记为真实玩家。 |

#### 3.2 中途加入（修订）

**目标：** 允许替换因故离开的牌友。

| 功能点 | 描述 | 交互与逻辑 |
| :--- | :--- | :--- |
| **3.2.1 玩家替换** | 计分中途，有玩家离开，可由新玩家接替。 | 1. **房主操作：** 在计分页面，房主点击需要替换的玩家头像/昵称，选择“替换玩家”。系统生成新的邀请二维码。<br>2. **新玩家：** 扫码加入后，**继承原玩家的所有分数和战绩**。历史出牌记录保持不变。 |

#### 3.3 历史记录查询

**目标：** 提供清晰的计分历史账本。

| 功能点 | 描述 |
| :--- | :--- |
| **3.3.1 记录列表页** | 首页增加“历史记录”入口。列表按时间倒序显示：日期、对战双方昵称、结果（赢/输）。 |
| **3.3.2 对局详情页** | 点击记录进入。展示：最终比分、每轮得分变化折线图（直观展示牌局走势）、关键节点（如“打过A”）。 |

#### 3.4 **个人中心与成绩统计（新增重点）**

**目标：** 为每个用户建立独立的战绩档案。

| 功能点 | 描述 | 实现细节 |
| :--- | :--- | :--- |
| **3.4.1 个人中心入口** | 首页右下角或顶部增加“我的”图标。 | 点击进入个人中心页面。 |
| **3.4.2 战绩总览** | 在个人中心首页顶部显示核心数据。 | 1. **总场次**、**胜场**、**胜率**。<br>2. **近10场胜率**（反映近期状态）。 |
| **3.4.3 详细数据统计** | 可滚动或切换Tab查看更详细的数据。 | 1. **趋势图：** 近20场比赛的胜率变化折线图。<br>2. **搭档榜：** 与同一玩家作为搭档获胜次数最多的排行榜。<br>3. **历史昵称：** 用户在不同牌局中使用过的昵称列表。 |
| **3.4.4 用户标识** | 如何区分和关联用户。 | **方案：** 以用户的微信OpenID作为唯一标识。即使用户在不同牌局中修改了昵称，所有数据仍会归集到他的个人中心下。 |

#### 3.5 战绩海报及分享

**目标：** 满足用户分享战绩的社交需求，成为小程序传播点。

| 功能点 | 描述 | 设计要点 |
| :--- | :--- | :--- |
| **3.5.1 生成海报** | 在对局详情页和个人中心，均可生成战绩海报。 | 1. **海报内容：** 突出“胜利”标签、最终比分、日期、个人昵称和胜率亮点（如“近10场胜率80%”）。<br>2. **核心元素：** 包含小程序码，引导他人扫码使用。<br>3. **模板：** 提供多种简洁、美观的模板可选。 |
| **3.5.2 分享** | 一键分享给好友或群。 | 支持将海报图片保存到手机相册，或直接调用微信分享接口发送给朋友。 |

---

### 4. 数据模型关键调整

*   **用户表：** 关联微信OpenID，记录总场次、胜场等聚合数据。
*   **对局记录表：** 每局一条记录，包含房间号、最终比分、时间。
*   **玩家关联表：** 记录每局比赛中的四个玩家分别关联到哪个**用户ID**以及他们在该局中使用的**昵称**。这是实现个人统计的核心。

### 5. 总结

修订后的方案更加聚焦：
1.  **组局极致灵活：** 紧扣线下场景，提供扫码、手动输入等多种便捷方式。
2.  **个人身份唯一：** 通过微信ID关联，建立用户的终身战绩档案，极大提升价值感和粘性。
3.  **功能纯粹实用：** 所有功能都服务于“计分”和“记录”这一核心目的，无冗余。

这份修订版文档应该能更准确地指导您的后续开发。